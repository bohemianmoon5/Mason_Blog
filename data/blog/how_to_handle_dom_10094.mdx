---
title: DOM_10094 도메인 에러의 원인 및 해결 방안
date: '2024-02-29'
tags: ['Informatica', 'PowerCenter']
draft: false
summary: 'How to handle DOM_10094 error'
authors: ['default']
---

<div align="center">

# 🧠 오늘의 주제  
## 📘 DOM_10094 도메인 에러의 주요 원인 및 해결 방안

</div>

---

## 📍 들어가며

이 글에서는 다음과 같은 내용을 다룹니다:

- ✅ DOM_10094 도메인 에러의 주요 원인
- ✅ 해결 방안

---

## 🧩 배경: 왜 이 주제가 중요할까?

- 해당 에러는 Informatica Service가 다운될 수 있는 에러로 해당 내용을 미리 인지하고 있으면 좋습니다.

📌 **핵심 키워드**: `DOM_10094`

---

## 🚀 본론: DOM_10094 도메인 에러의 주요 원인 및 해결 방안

### ⚙️ Step 1 - DOM_10094 도메인 에러의 주요 원인

```ex 💻
# FATAL [Domain Monitor] [DOM_10094] Cannot update the data for the master gateway node within the refresh interval time [32000]
# Cannot update the data for the master gateway node within the refresh interval time [32000]. The node will not continue as a master gateway node.​

해당 오류는 Master Gateway Node가 도메인 데이터베이스를 정해진 시간 내(기본 32초) 에 업데이트하지 못할 때 발생합니다.
결과적으로 해당 노드는 Master 역할을 포기하고, 서비스가 중단되거나 다른 노드로 Failover 됩니다.

# 주요 원인

- 네트워크 지연: Informatica 서버와 도메인 데이터베이스 사이의 네트워크 문제
- 도메인 DB 성능 저하: 고부하나 응답 지연
- Informatica 서버 자체 성능 문제
- 서버 간 시간 동기화 문제 (Time Sync)

# 기본 동작 설명

- Master Gateway는 도메인 테이블 PCSF_MASTER_ELECTION을 8초마다 업데이트
- 업데이트 실패가 4회 이상(도메인에 여러 Gateway 노드가 있는 경우) 반복되면, 해당 노드는 Master 역할을 포기
- 단일 Gateway 노드라면 12회 연속 실패(96초) 시 도메인이 종료됨
```

### 🛠️ Step 2 - 해결 방안

```ex 💻
# 원인 분석

- DB 성능 확인 또는 네트워크 트레이스 (tcpdump, snoop 등)를 통해 병목 위치 확인
- Spy 로그 활성화: JDBC 호출 지연 확인 가능
- 시간 동기화 확인: /var/log/messages 로그에서 ntpd 시간 이동 확인

# MasterDBRefreshInterval 설정

- 기본 8초 → 예: 30초 로 증가
- 설정 위치: Admin Console → Domain → Properties → Custom Properties
- 또는 명령어 사용: infacmd.sh UpdateDomainOptions -dn DomainName -un Administrator -pd Administrator -do MasterDBRefreshInterval=30

# MasterUpdateInterval 설정

- 설정 위치: $INFA_HOME/tomcat/bin/infaservice.sh
- 예: -Dinfa.masterUpdateTimeInterval=30000 
- 공식 권장 계산식: (4 * MasterDBRefreshInterval + 45 + updateMasterConnectTimeout) < (6 * MasterUpdateInterval) 
```

## 📋 결론

- 이 오류는 대부분 네트워크 또는 DB 응답 지연으로 인해 발생하며, 일시적이라면 설정 조정으로 대응이 가능하지만, 지속적이라면 인프라 근본 원인을 반드시 해결해야 합니다.

## 🧭 참고 자료
https://knowledge.informatica.com/s/article/145762?language=en_US&type=external