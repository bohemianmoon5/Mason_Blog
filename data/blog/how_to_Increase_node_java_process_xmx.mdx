---
title: ì¸í¬ë§¤í‹°ì¹´ íŒŒì›Œì„¼í„° Maximum Heap Size ìµœì  ì„¤ì • ê°€ì´ë“œ
date: '2024-03-22'
tags: ['Informatica', 'PowerCenter']
draft: false
summary: 'How to optimally set the Maximum Heap Size for a domain'
authors: ['default']
---

<div align="center">

# ğŸ§  ì˜¤ëŠ˜ì˜ ì£¼ì œ  
## ğŸ“˜ ì¸í¬ë§¤í‹°ì¹´ íŒŒì›Œì„¼í„° Maximum Heap Size ìµœì  ì„¤ì • ê°€ì´ë“œ

</div>

---

## ğŸ“ ë“¤ì–´ê°€ë©°

ì´ ê¸€ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‚´ìš©ì„ ë‹¤ë£¹ë‹ˆë‹¤:

- âœ… ë„ë©”ì¸ ìœ ì € ë° ì‚¬ìš© ì„œë¹„ìŠ¤ ê¸°ì¤€, Maximum Heap Size ìµœì  ì„¤ì • ê°€ì´ë“œ

---

## ğŸ§© ë°°ê²½: ì™œ ì´ ì£¼ì œê°€ ì¤‘ìš”í• ê¹Œ?

- ë„ë©”ì¸ ìœ ì € ë° ì‚¬ìš© ì„œë¹„ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ Maximum Heap Sizeë¥¼ ìµœì ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

ğŸ“Œ **í•µì‹¬ í‚¤ì›Œë“œ**: `Maximum Heap Size`

---

## ğŸš€ ë³¸ë¡ : ë„ë©”ì¸ ìœ ì € ë° ì‚¬ìš© ì„œë¹„ìŠ¤ ê¸°ì¤€, Maximum Heap Size ìµœì  ì„¤ì • ê°€ì´ë“œ

### âš™ï¸ Step 1 - Maximum Heap Size ì„¤ì •ì´ í•„ìš”í•œ ê²½ìš°

```ex ğŸ’»
# ì„¤ì •ì´ í•„ìš”í•œ ê²½ìš°

- ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜ ë°œìƒ (java.lang.OutOfMemoryError: Java heap space), ì„¸ì…˜ ë° ì›Œí¬í”Œë¡œìš° ì‹¤íŒ¨, ì„±ëŠ¥ ì €í•˜, ì‹œìŠ¤í…œ ë¶ˆì•ˆì •
```

### ğŸ› ï¸ Step 2 - ë„ë©”ì¸ ìœ ì € ë° ì‚¬ìš© ì„œë¹„ìŠ¤ ê¸°ì¤€, Maximum Heap Size ìµœì  ì„¤ì • ê°€ì´ë“œ

```ex ğŸ’»
# ë„ë©”ì¸ ìœ ì € ë° ì‚¬ìš© ì„œë¹„ìŠ¤ ê¸°ì¤€

Number of Domain Users | Maximum Heap Size (1-5 Services) | Maximum Heap Size (6-10 Services)

1,000 or less | 512 MB (default) | 1024 MB

5,000 | 2048 MB | 3072 MB

10,000 | 3072 MB | 5120 MB

20,000 | 5120 MB | 6144 MB

30,000 | 5120 MB | 6144 MB
```

### âœ… Step 3 - Maximum Heap Size ì„¤ì • ë°©ë²•

```ex ğŸ’»

1. Informatica ì„œë¹„ìŠ¤ë¥¼ Shutdown í•©ë‹ˆë‹¤. ($INFA_HOME/server/tomcat/bin/infaservice.sh shutdown)
2. ì ìš© íŒŒì¼ ì´ë¦„ : $INFA_HOME/tomcat/bin/infaservice.sh
3. vi infaservice.sh ëª…ë ¹ì–´ë¥¼ í†µí•´ í¸ì§‘ì°½ìœ¼ë¡œ ë“¤ì–´ê°€ -Xmxë¥¼ ì°¾ìŠµë‹ˆë‹¤.
4. INFA_JAVA_OPTS="-Xmx1024m ${INFA_JAVA_OPTS} -XX:MaxMetaspaceSize=256m" ì—ì„œ -Xmx ê°’ì„ ìˆ˜ì •í•©ë‹ˆë‹¤.
5. í¸ì§‘ì°½ì„ wq! ëª…ë ¹ì–´ë¥¼ í†µí•´ ë‹«ê³ , Informatica ì„œë¹„ìŠ¤ë¥¼ Start í•©ë‹ˆë‹¤. ($INFA_HOME/server/tomcat/bin/infaservice.sh startup)
6. ps -fu <uid> | grep "java -ea" ëª…ë ¹ì–´ë¡œ Maximum Heap Size ì ìš© í™•ì¸

$INFA_HOME/java/bin/java -ea -Djava.security.krb5.conf=/home/app/informatica/PWC/services/shared/security/krb5.conf 
-Dorg.apache.catalina.connector.RECYCLE_FACADES=true -Djava.awt.headless=true -Duser.dir=/home/app/informatica/PWC/tomcat/bin 
-DINFA_PLUGINS_HOME=/home/app/informatica/PWC/plugins -DINFA_HOME=/home/app/informatica/PWC -Dinfa.useNonPooledUUMAuthenticator 
-DINFA_DOMAINS_FILE=/home/app/informatica/PWC/domains.infa -Djava.endorsed.dirs= 
-classpath :/home/app/informatica/PWC/tomcat9/bin/bootstrap.jar:/home/app/informatica/PWC/tomcat9/bin/tomcat-juli.jar:/home/app/informatica/PWC/services/shared/jars/platform/infatomcatbootstrap.jar 
-Dcatalina.base=/home/app/informatica/PWC/tomcat -Dcatalina.home=/home/app/informatica/PWC/tomcat9 -Djava.io.tmpdir=/home/app/informatica/PWC/tomcat/temp 
-Djava.util.logging.config.file=/home/app/informatica/PWC/tomcat/bin/isplogging.properties -XX:GCTimeRatio=9 -XX:+DisableExplicitGC -XX:+UseG1GC -XX:MaxGCPauseMillis=500 
-XX:MaxGCPauseMillis=500 -Xmx1024m -XX:MaxMetaspaceSize=256m -XX:+HeapDumpOnOutOfMemoryError -XX:+HeapDumpOnOutOfMemoryError com.informatica.isp.tools.tomcatstarter.ISPTomcatBootstrap start

```

## ğŸ“‹ ê²°ë¡ 

- infaservice.shì„ í¸ì§‘í•  ë•Œ ì£¼ì˜í•´ì•¼ í•˜ì§€ë§Œ ë¹„êµì  ì‰½ê²Œ Maximum Heap Sizeë¥¼ ì¡°ì •í•´ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

## ğŸ§­ ì°¸ê³  ìë£Œ
https://knowledge.informatica.com/s/article/577128?language=en_US&type=external